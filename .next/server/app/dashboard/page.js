(()=>{var e={};e.id=702,e.ids=[702],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},209:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9348:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},412:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},2855:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=s(3003),r=s(4293),i=s(6550),l=s.n(i),n=s(6979),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1151)),"/Users/ahallali/Desktop/notes-crud-app/src/app/dashboard/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,7973)),"/Users/ahallali/Desktop/notes-crud-app/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,2075,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/ahallali/Desktop/notes-crud-app/src/app/dashboard/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9450:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,2639,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23)),Promise.resolve().then(s.t.bind(s,2816,23))},6081:(e,t,s)=>{Promise.resolve().then(s.bind(s,4073)),Promise.resolve().then(s.bind(s,4275))},889:(e,t,s)=>{Promise.resolve().then(s.bind(s,9530))},4073:(e,t,s)=>{"use strict";s.d(t,{default:()=>l});var a=s(8819);s(7266);var r=s(5047),i=s(7109);let l=()=>{let e=(0,r.useRouter)(),{data:t}=(0,i.useSession)(),s=async()=>{await (0,i.signOut)({redirect:!1}),e.push("/")};return(0,a.jsx)("header",{className:"bg-gray-800 text-white py-4",children:(0,a.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("span",{className:"text-lg font-semibold",children:"Notes"})}),(0,a.jsx)("div",{className:"space-x-4",children:t?(0,a.jsx)("button",{onClick:s,className:"hover:text-gray-400",children:"Logout"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("a",{href:"/login",className:"hover:text-gray-400",children:"Login"}),(0,a.jsx)("a",{href:"/register",className:"hover:text-gray-400",children:"Register"})]})})]})})}},4275:(e,t,s)=>{"use strict";s.d(t,{default:()=>i});var a=s(8819),r=s(7109);let i=({children:e})=>(0,a.jsx)(r.SessionProvider,{children:e})},9530:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(8819),r=s(7266),i=s(7109);let l=()=>{let{data:e}=(0,i.useSession)(),[t,s]=(0,r.useState)([]),[l,n]=(0,r.useState)(!1),[o,d]=(0,r.useState)(""),[c,p]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),x=async()=>{if(e){let t=e.user.id,a=await fetch(`/api/notes?userId=${t}`);a.ok?s(await a.json()):console.error("Failed to fetch notes:",a.statusText)}};(0,r.useEffect)(()=>{x()},[e]);let m=()=>{d(""),p(""),h("")},f=async t=>{if(t.preventDefault(),!e){console.error("User is not logged in");return}let s={title:o,content:c,userId:e.user.id};u?await fetch(`/api/notes/${u}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}):await fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),m(),x(),n(!1)},b=e=>{d(e.title),p(e.content),h(e.id),n(!0)},v=async e=>{let t=await fetch(`/api/notes/${e}`,{method:"DELETE"});t.ok?x():console.error("Failed to delete note:",t.statusText)};return(0,a.jsx)("div",{className:"flex flex-col w-full h-full",children:(0,a.jsxs)("div",{className:"flex-1 p-6 overflow-auto",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,a.jsx)("button",{onClick:()=>{m(),n(!0)},className:"bg-blue-600 text-white px-4 py-1 rounded",children:"Add Note"})}),(0,a.jsx)("div",{className:"grid grid-cols-3 gap-2",children:Array.isArray(t)&&t.map(e=>(0,a.jsxs)("div",{className:"bg-blue-200 p-4 rounded shadow-lg h-52 flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto no-scrollbar max-h-32 w-52",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,a.jsx)("p",{className:"p-2",children:e.content})]}),(0,a.jsxs)("div",{className:"flex mt-6 justify-between",children:[(0,a.jsx)("button",{onClick:()=>b(e),className:"text-blue-600 flex items-center",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>v(e.id),className:"text-red-600 flex items-center",children:"Delete"})]})]},e.id))}),l&&(0,a.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4",children:u?"Edit Note":"Add Note"}),(0,a.jsxs)("form",{onSubmit:f,children:[(0,a.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),placeholder:"Title",className:"border p-2 mb-2 w-full",required:!0}),(0,a.jsx)("textarea",{value:c,onChange:e=>p(e.target.value),placeholder:"Description",className:"border p-2 mb-4 w-full",required:!0}),(0,a.jsxs)("div",{className:"flex justify-end",children:[(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded mr-2",children:"Save"}),(0,a.jsx)("button",{type:"button",onClick:()=>{m(),n(!1)},className:"bg-gray-400 text-white px-4 py-2 rounded",children:"Cancel"})]})]})]})})]})})}},508:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var a=s(9351);s(2052);let r=()=>(0,a.jsx)("footer",{className:"bg-gray-800 text-white py-6",children:(0,a.jsx)("div",{className:"container mx-auto text-center",children:(0,a.jsx)("p",{className:"text-sm mb-4",children:"\xa9 2024 NOTE. All rights reserved."})})})},3700:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>e});var r=s(1851);let e=(await (0,r.createProxy)(String.raw`/Users/ahallali/Desktop/notes-crud-app/src/app/components/Header/Header.tsx`)).default;a()}catch(e){a(e)}},1)},9815:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>e});var r=s(1851);let e=(await (0,r.createProxy)(String.raw`/Users/ahallali/Desktop/notes-crud-app/src/app/components/Sessionwrapper.tsx`)).default;a()}catch(e){a(e)}},1)},1151:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>e});var r=s(1851);let e=(await (0,r.createProxy)(String.raw`/Users/ahallali/Desktop/notes-crud-app/src/app/dashboard/page.tsx`)).default;a()}catch(e){a(e)}},1)},7973:(e,t,s)=>{"use strict";s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>d,metadata:()=>c});var r=s(9351);s(5023);var i=s(3700),l=s(508),n=s(9815),o=e([i,n]);[i,n]=o.then?(await o)():o;let c={title:"Note App",description:"Note App that helps you create, delete, edit, and update notes"};function d({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:"flex flex-col min-h-screen",children:(0,r.jsxs)(n.Z,{children:[(0,r.jsx)(i.Z,{}),(0,r.jsx)("main",{className:"flex-1 flex bg-gradient-to-r from-blue-400 to-purple-600 animate-gradient",children:e}),(0,r.jsx)(l.Z,{})]})})})}a()}catch(e){a(e)}})},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(771);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[147,806,771],()=>s(2855));module.exports=a})();